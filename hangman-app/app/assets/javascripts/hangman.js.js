// Generated by CoffeeScript 1.8.0
var HangmanApp;

HangmanApp = angular.module("HangmanApp", []);

HangmanApp.controller("HangmanCtrl", [
  "$scope", function($scope) {
    $scope.letters = [
      {
        value: "a",
        picked: false
      }, {
        value: "b",
        picked: false
      }, {
        value: "c",
        picked: false
      }, {
        value: "d",
        picked: false
      }, {
        value: "e",
        picked: false
      }, {
        value: "f",
        picked: false
      }, {
        value: "g",
        picked: false
      }, {
        value: "h",
        picked: false
      }, {
        value: "i",
        picked: false
      }, {
        value: "j",
        picked: false
      }, {
        value: "k",
        picked: false
      }, {
        value: "l",
        picked: false
      }, {
        value: "m",
        picked: false
      }, {
        value: "n",
        picked: false
      }, {
        value: "o",
        picked: false
      }, {
        value: "p",
        picked: false
      }, {
        value: "q",
        picked: false
      }, {
        value: "r",
        picked: false
      }, {
        value: "s",
        picked: false
      }, {
        value: "t",
        picked: false
      }, {
        value: "u",
        picked: false
      }, {
        value: "v",
        picked: false
      }, {
        value: "w",
        picked: false
      }, {
        value: "x",
        picked: false
      }, {
        value: "y",
        picked: false
      }, {
        value: "z",
        picked: false
      }
    ];
    $scope.counter = 0;
    $scope.handleSubmit = function() {
      var letter, _i, _len, _ref;
      $scope.blanks = [];
      $scope.secretWord = $scope.word.split('');
      _ref = $scope.secretWord;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        letter = _ref[_i];
        $scope.blanks.push({
          value: letter,
          placeholder: "_",
          guessed: false
        });
      }
      return $scope.hangman = [true];
    };
    return $scope.clickLetter = function(guessedLetter) {
      $scope.search = function(letter) {
        var char, _i, _len, _ref;
        _ref = $scope.blanks;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          char = _ref[_i];
          if (letter.value === char.value) {
            char.guessed = true;
            return true;
          }
        }
      };
      if ($scope.search(guessedLetter) === true) {
        console.log("RIGHT");
      } else {
        $scope.counter = $scope.counter + 1;
        if ($scope.counter === 6) {
          $scope.hangman.push(true);
          $scope.loser = true;
        } else if ($scope.counter < 6) {
          console.log("WRONG!");
          $scope.hangman.push(true);
        }
      }
      return guessedLetter.picked = true;
    };
  }
]);

HangmanApp.config([
  "$httpProvider", function($httpProvider) {
    return $httpProvider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content');
  }
]);
